<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cron Job Zamanı Güncelle</title>
</head>
<body>

<h2>Cron Job Zamanını Güncelle</h2>
<form id="cronForm">
  <label for="cronTime">Cron Zamanı (Örn: 0 12 * * *):</label><br>
  <input type="text" id="cronTime" name="cronTime"><br><br>
  <button type="submit">Güncelle</button>
</form>

<script>
  document.getElementById('cronForm').addEventListener('submit', function(event) {
    event.preventDefault();
    const cronTime = document.getElementById('cronTime').value;

    const apiToken = 'YOUR_GITHUB_API_TOKEN'; // GitHub API tokenınızı buraya girin
    const repoOwner = 'YOUR_GITHUB_USERNAME'; // GitHub kullanıcı adınızı buraya yazın
    const repoName = 'YOUR_REPOSITORY_NAME'; // Repository adınızı buraya yazın
    const filePath = 'path/to/your/file.yml'; // Güncellemek istediğiniz dosyanın yolu

    const message = "Update cron job time";
    const content = btoa(`cron: '${cronTime}'`); // Base64 encoding

    fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/${filePath}`, {
      method: 'PUT',
      headers: {
        'Authorization': `token ${apiToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: message,
        content: content,
        sha: 'CURRENT_FILE_SHA' // Güncellemek istediğiniz dosyanın mevcut SHA değerini buraya ekleyin
      })
    })
    .then(response => response.json())
    .then(data => {
      console.log('File updated:', data);
      alert('Cron job zamanınız güncellendi!');
    })
    .catch(error => {
      console.error('Error updating file:', error);
      alert('Bir hata oluştu.');
    });
  });
</script>

</body>
</html>
